{
	"name": "ePlayer",
	"events": [
		{
			"eventType": "group",
			"disabled": false,
			"title": "ePlayer/Input",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 964565184534731,
							"parameters": {
								"key": 38
							}
						}
					],
					"actions": [
						{
							"id": "send-event",
							"objectClass": "EventTrigger",
							"sid": 146411033674036,
							"parameters": {
								"event-name": "\"direction\"",
								"event-message": "\"up\"",
								"event-messages-additional": []
							}
						}
					],
					"sid": 285873201206913
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 893801337015042,
							"parameters": {
								"key": 37
							}
						}
					],
					"actions": [
						{
							"id": "send-event",
							"objectClass": "EventTrigger",
							"sid": 946067616852476,
							"parameters": {
								"event-name": "\"direction\"",
								"event-message": "\"left\"",
								"event-messages-additional": []
							}
						}
					],
					"sid": 191535257770643
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 761914886683317,
							"parameters": {
								"key": 40
							}
						}
					],
					"actions": [
						{
							"id": "send-event",
							"objectClass": "EventTrigger",
							"sid": 155369549005804,
							"parameters": {
								"event-name": "\"direction\"",
								"event-message": "\"down\"",
								"event-messages-additional": []
							}
						}
					],
					"sid": 467374391777992
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 234462502372245,
							"parameters": {
								"key": 39
							}
						}
					],
					"actions": [
						{
							"id": "send-event",
							"objectClass": "EventTrigger",
							"sid": 278227961038289,
							"parameters": {
								"event-name": "\"direction\"",
								"event-message": "\"right\"",
								"event-messages-additional": []
							}
						}
					],
					"sid": 216526827279718
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 307583656092669,
							"parameters": {
								"key": 32
							}
						}
					],
					"actions": [
						{
							"id": "send-event",
							"objectClass": "EventTrigger",
							"sid": 192905532268573,
							"parameters": {
								"event-name": "\"shoot\"",
								"event-message": "0",
								"event-messages-additional": []
							}
						}
					],
					"sid": 867479133637893
				}
			],
			"sid": 410123507614538
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "ePlayer/Gameplay",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "event-triggered",
							"objectClass": "EventTrigger",
							"sid": 985408879451394,
							"parameters": {
								"event-respond-to": "\"direction\""
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "spr_player",
							"sid": 369324590901469,
							"parameters": {
								"instance-variable": "direction",
								"value": "EventTrigger.GetEventMessageAt(0)"
							}
						}
					],
					"sid": 978250146609720
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "event-triggered",
							"objectClass": "EventTrigger",
							"sid": 369204671534246,
							"parameters": {
								"event-respond-to": "\"shoot\""
							}
						}
					],
					"actions": [],
					"sid": 734453713535046,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "spr_preview_tetromino",
									"sid": 111211306254361,
									"parameters": {
										"object": "tm_collisions"
									},
									"isInverted": true
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "spr_preview_tetromino",
									"sid": 211997069735043,
									"parameters": {
										"object": "spr_tetromino"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 145291321994858,
							"children": [
								{
									"eventType": "variable",
									"name": "direction",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 224855125250376
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "spr_player",
											"sid": 475465569339383,
											"parameters": {
												"instance-variable": "direction",
												"comparison": 0,
												"value": "\"up\""
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 929991431553382,
											"parameters": {
												"variable": "direction",
												"value": "270"
											}
										}
									],
									"sid": 916583690273671
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "spr_player",
											"sid": 999473153285357,
											"parameters": {
												"instance-variable": "direction",
												"comparison": 0,
												"value": "\"left\""
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 998047783649686,
											"parameters": {
												"variable": "direction",
												"value": "180"
											}
										}
									],
									"sid": 574557272330358
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "spr_player",
											"sid": 935095854210663,
											"parameters": {
												"instance-variable": "direction",
												"comparison": 0,
												"value": "\"down\""
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 347491338997788,
											"parameters": {
												"variable": "direction",
												"value": "90"
											}
										}
									],
									"sid": 951125259029483
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "spr_player",
											"sid": 585784730201032,
											"parameters": {
												"instance-variable": "direction",
												"comparison": 0,
												"value": "\"right\""
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 713003585658627,
											"parameters": {
												"variable": "direction",
												"value": "0"
											}
										}
									],
									"sid": 680150178953253
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "spr_preview_tetromino",
											"sid": 126730164315353,
											"parameters": {
												"object": "spr_tetromino",
												"layer": "\"objects\"",
												"image-point": "0"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "spr_tetromino",
											"sid": 984967296572394,
											"parameters": {
												"animation": "spr_preview_tetromino.AnimationName",
												"from": "beginning"
											}
										},
										{
											"id": "set-angle-of-motion",
											"objectClass": "spr_tetromino",
											"sid": 255224280017540,
											"behaviorType": "Bullet",
											"parameters": {
												"angle": "direction"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "spr_preview_tetromino",
											"sid": 341904781140677,
											"parameters": {
												"animation": "gui_next_tetromino.AnimationName",
												"from": "beginning"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "gui_next_tetromino",
											"sid": 609431880365983,
											"parameters": {
												"animation": "choose(\"I\", \"L\", \"O\", \"S\", \"T\")",
												"from": "beginning"
											}
										}
									],
									"sid": 340976321959208
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "spr_tetromino",
							"sid": 438150491718802,
							"parameters": {
								"object": "spr_player"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "spr_tetromino",
							"sid": 684702790700456,
							"behaviorType": "Solid",
							"parameters": {
								"state": "enabled"
							}
						}
					],
					"sid": 465741184688661
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "spr_tetromino",
							"sid": 857079446367242,
							"parameters": {
								"object": "tm_collisions"
							}
						},
						{
							"id": "on-collision-with-another-object",
							"objectClass": "spr_tetromino",
							"sid": 760642186764329,
							"parameters": {
								"object": "spr_tetromino"
							}
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "spr_tetromino",
							"sid": 303678749268401,
							"parameters": {
								"x": "32 *  round(Self.X / 32)",
								"y": "32 *  round(Self.Y / 32)"
							}
						},
						{
							"id": "set-speed",
							"objectClass": "spr_tetromino",
							"sid": 333032992222593,
							"behaviorType": "Bullet",
							"parameters": {
								"speed": "0"
							}
						}
					],
					"sid": 770916151249777,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 541232168747945
						}
					],
					"actions": [
						{
							"id": "move-to-top",
							"objectClass": "spr_preview_tetromino",
							"sid": 841856396568340
						}
					],
					"sid": 100430475787489,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "spr_player",
									"sid": 526260620512409,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"up\""
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "spr_preview_tetromino",
									"sid": 964692327938072,
									"parameters": {
										"x": "32 * round((spr_player.X - Self.Width / 2) / 32)",
										"y": "32 * ceil((spr_player.Y - spr_player.Height - Self.Height) / 32)"
									}
								}
							],
							"sid": 715899834338105
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "spr_player",
									"sid": 571358062528955,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"left\""
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "spr_preview_tetromino",
									"sid": 782054067923106,
									"parameters": {
										"x": "32 * ceil((spr_player.X - spr_player.Width - Self.Width) / 32)",
										"y": "32 * round((spr_player.Y - Self.Height / 2) / 32)"
									}
								}
							],
							"sid": 771726245077278
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "spr_player",
									"sid": 928772518411948,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"down\""
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "spr_preview_tetromino",
									"sid": 565994852833283,
									"parameters": {
										"x": "32 * round((spr_player.X - Self.Width / 2) / 32)",
										"y": "32 * floor((spr_player.Y + spr_player.Height) / 32)"
									}
								}
							],
							"sid": 864580581044846
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "spr_player",
									"sid": 261919615207744,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"right\""
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "spr_preview_tetromino",
									"sid": 504675546559376,
									"parameters": {
										"x": "32 * floor((spr_player.X + spr_player.Width) / 32)",
										"y": "32 * round((spr_player.Y  - Self.Height / 2) / 32)"
									}
								}
							],
							"sid": 712023656153982
						}
					]
				}
			],
			"sid": 431708990504645
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "ePlayer/Camera",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 746690337861911
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "obj_camera",
							"sid": 487597461787102,
							"parameters": {
								"x": "lerp(Self.X, spr_player.X + spr_player.8Direction.VectorX / 5, 0.5)",
								"y": "lerp(Self.Y, spr_player.Y + spr_player.8Direction.VectorY / 5, 0.5)"
							}
						}
					],
					"sid": 388065454807342
				}
			],
			"sid": 568479796440330
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "ePlayer/Animations",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "spr_preview_tetromino",
							"sid": 125613961922430,
							"parameters": {
								"object": "tm_collisions"
							}
						},
						{
							"id": "is-overlapping-another-object",
							"objectClass": "spr_preview_tetromino",
							"sid": 833224878563349,
							"parameters": {
								"object": "spr_tetromino"
							}
						}
					],
					"actions": [
						{
							"id": "set-effect-parameter",
							"objectClass": "spr_preview_tetromino",
							"sid": 786138699776181,
							"parameters": {
								"effect": "\"ReplaceColor\"",
								"parameter-index": "2",
								"value": "1"
							}
						}
					],
					"sid": 172862923803314,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 109609745060897
						}
					],
					"actions": [
						{
							"id": "set-effect-parameter",
							"objectClass": "spr_preview_tetromino",
							"sid": 557701264323099,
							"parameters": {
								"effect": "\"ReplaceColor\"",
								"parameter-index": "2",
								"value": "0"
							}
						}
					],
					"sid": 650894430766253
				}
			],
			"sid": 905875040656206
		}
	],
	"sid": 177573190643701
}